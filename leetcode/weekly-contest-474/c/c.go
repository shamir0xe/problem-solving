package main

import (
	"fmt"
)

/**
 * problem C (3/4)
 * leetcode, weekly-contest-474
 * author: @shamir0xe
 * generated by contest-builder
 * https://github.com/shamir0xe/contest-builder
 **/

func minimumTime(d []int, r []int) int64 {
	var gcd func(int, int) int
	gcd = func(a, b int) int {
		if b == 0 {
			return a
		}
		return gcd(b, a%b)
	}
	lcm := int64(r[0]) * int64(r[1]) / int64(gcd(r[0], r[1]))
	findFirst := func(fn func(int64) bool) int64 {
		s, e := int64(0), int64(1e18)
		for e-s > 1 {
			m := (e + s) / 2
			if fn(m) {
				e = m
			} else {
				s = m
			}
		}
		return e
	}
	solve := func(d []int64, r []int64) int64 {
		tm := findFirst(func(t int64) bool {
			return t-t/r[0] >= d[0]
		})
		// tmn := (tm/r[1] + 1) * r[1]
		a := tm/r[0] - tm/lcm
		fmt.Println(a)
		tx := findFirst(func(t int64) bool {
			return t-tm-t/r[1]+tm/r[1]+a >= d[1]
		})
		return tx
	}
	c1 := solve([]int64{int64(d[0]), int64(d[1])}, []int64{int64(r[0]), int64(r[1])})
	c2 := solve([]int64{int64(d[1]), int64(d[0])}, []int64{int64(r[1]), int64(r[0])})
	return min(c1, c2)
}

func main() {
	fmt.Println("Hello world!")
}
